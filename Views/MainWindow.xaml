<Window x:Class="TravelAgency.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:s="clr-namespace:System;assembly=mscorlib"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:v="clr-namespace:TravelAgency.Views"
        xmlns:services="clr-namespace:TravelAgency.Services"
        xmlns:prism="http://prismlibrary.com/"
        xmlns:viewModels="clr-namespace:TravelAgency.ViewModels"
        prism:ViewModelLocator.AutoWireViewModel="True"
        Title="{Binding Title}"
        Height="600" Width="1010" 
        WindowStyle="None" 
        MinHeight="550" MinWidth="750">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="22" ResizeBorderThickness="{x:Static SystemParameters.WindowResizeBorderThickness}"/>
    </WindowChrome.WindowChrome>


    <Window.Resources>

        <!--Navbar Style-->
        <Style x:Key="ListViewButtonStyle" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Name="bd"
                                BorderBrush="Transparent"
                                Background="Transparent"
                                SnapsToDevicePixels="True">
                            <ContentControl Content="{TemplateBinding Content}"
                                            VerticalAlignment="Center"
                                            HorizontalAlignment="Center"
                                            Width="40"
                                            VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                            Height="40"></ContentControl>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="Button.IsMouseOver" Value="True">
                                <Setter Property="Background" TargetName="bd" Value="Transparent"></Setter>
                                <Setter Property="BorderBrush" TargetName="bd" Value="Transparent"></Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--ThemeButton Style-->
        <Style x:Key="ThemeBtnStyle"
               TargetType="Button" 
               BasedOn="{StaticResource ListViewButtonStyle}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsDarkTheme, UpdateSourceTrigger=PropertyChanged}"
                             Value="False">
                    <Setter Property="Button.Content">
                        <Setter.Value>
                            <Image Source="/Resources/icons8-moon-symbol-32.png"></Image>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
                <DataTrigger Binding="{Binding IsDarkTheme, UpdateSourceTrigger=PropertyChanged}"
                             Value="True">
                    <Setter Property="Button.Content">
                        <Setter.Value>
                            <Image Source="/Resources/icons8-sun-32.png"></Image>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <!--NavBar Button Style-->
        <Style TargetType="ToggleButton" x:Key="TbStyle">
            <Setter Property="SnapsToDevicePixels" Value="True"></Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border Background="Transparent"
                                BorderBrush="Transparent">
                            <ContentControl Content="{TemplateBinding Content}"></ContentControl>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <services:TabVisibilityConverter x:Key="TabVisibilityConverter"/>

        <Style x:Key="PopupButton" TargetType="Button" >
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border BorderThickness="{TemplateBinding BorderThickness}"
                                BorderBrush="{DynamicResource ForegroundColor}"
                                Name="Border">
                            <ContentPresenter Content="{TemplateBinding Content}"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Center"
                                              Name="Content"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                             Storyboard.TargetName="Border"
                                                             From=".5"
                                                             To="1"
                                                             Duration="0:0:0.1"></DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                             Storyboard.TargetName="Border"
                                                             From="1"
                                                             To=".5"
                                                             Duration="0:0:0.1"></DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                                <Setter Property="Background" TargetName="Border" Value="Transparent"></Setter>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="False">
                                <Setter Property="Opacity" TargetName="Border" Value=".5"></Setter>
                                <Setter Property="Background" TargetName="Border" Value="Transparent"></Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="NotificationGrid" TargetType="Grid">
            <Style.Triggers>
                <DataTrigger Binding="{Binding Notification.TabIsOpen}" Value="True">
                    <DataTrigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="Width"
                                                 From="0"
                                                 To="405"
                                                 Duration="0:0:0.3">
                                    <DoubleAnimation.EasingFunction>
                                        <PowerEase Power="3"></PowerEase>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </Storyboard>
                        </BeginStoryboard>
                    </DataTrigger.EnterActions>
                    <DataTrigger.ExitActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="Width"
                                                 From="405"
                                                 To="0"
                                                 Duration="0:0:0.3">
                                    <DoubleAnimation.EasingFunction>
                                        <PowerEase Power="3"></PowerEase>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </Storyboard>
                        </BeginStoryboard>
                    </DataTrigger.ExitActions>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <DataTemplate x:Key="ClientsControl" DataType="{x:Type viewModels:ClientsControlViewModel}">
            <v:ClientsControl/>
        </DataTemplate>

        <DataTemplate x:Key="HotelsControl" DataType="{x:Type viewModels:HotelViewModel}">
            <v:HotelControl/>
        </DataTemplate>

        <DataTemplate x:Key="VouchersControl" DataType="{x:Type viewModels:VouchersControl}">
            <v:VouchersControl/>
        </DataTemplate>
    </Window.Resources>

    <Border BorderThickness="{Binding BorderThickness}" BorderBrush="Black">
        <Grid >
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <ContentControl prism:RegionManager.RegionName="ContentRegion" />
            <!--TitleBar-->

            <v:TitleBar Grid.Row="0"/>

            <!--BackgroundColor-->
            <Grid Background="{DynamicResource TabBackgroundColor}" Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>

                <!--Content Grid-->
                <Grid Grid.Column="1"
                      Margin="75,0,0,0">
                    <Grid.Effect>
                        <DropShadowEffect></DropShadowEffect>
                    </Grid.Effect>

                    <!--Main Tab-->
                    <v:MainControl>
                        <v:MainControl.Visibility>
                            <Binding Path="(viewModels:MainWindowViewModel.SelectedTab)"
                                 Converter="{StaticResource TabVisibilityConverter}" ConverterParameter="0" />
                        </v:MainControl.Visibility>
                    </v:MainControl>

                    <!--Hotels Tab-->
                    <v:HotelControl>
                        <v:HotelControl.Visibility>
                            <Binding RelativeSource="{RelativeSource AncestorType={x:Type Window}}" Path="DataContext.SelectedTab"
                                 Converter="{StaticResource TabVisibilityConverter}" ConverterParameter="1" />
                        </v:HotelControl.Visibility>
                    </v:HotelControl>

                    <!--Clietns Tab-->
                    <v:ClientsControl>
                        <v:ClientsControl.Visibility>
                            <Binding RelativeSource="{RelativeSource AncestorType={x:Type Window}}" Path="DataContext.SelectedTab"
                                 Converter="{StaticResource TabVisibilityConverter}" ConverterParameter="2" />
                        </v:ClientsControl.Visibility>
                    </v:ClientsControl>

                    <!--Vouchers Tab-->
                    <v:VouchersControl>
                        <v:VouchersControl.Visibility>
                            <Binding RelativeSource="{RelativeSource AncestorType={x:Type Window}}" Path="DataContext.SelectedTab"
                                 Converter="{StaticResource TabVisibilityConverter}" ConverterParameter="3" />
                        </v:VouchersControl.Visibility>
                    </v:VouchersControl>
                </Grid>

                <!--Nav Panel-->
                <Border Grid.Column="0" Name="NavGrid"
                                       Grid.ColumnSpan="2"
                                       HorizontalAlignment="Left"
                                       Width="65"
                                       Background="{DynamicResource BackgroundColor}"
                                       Margin="10"
                                       CornerRadius="8">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="0"/>
                    </Border.Effect>
                    
                    <!--columnSpan-->
					<!--Nav Panel-->
					<Grid >

                    <StackPanel Name="StackPanel">

                        <!--Grid for the togglebutton-->
                        <Grid Height="90"
                              Margin="0,10,0,0">
                            <!--Menu Title text-->

                            <TextBlock Grid.Column="0"
                                   Margin="73, -17, 0,0"
                                   Foreground="{DynamicResource ForegroundColor}"
                                   FontSize="22"
                                   Text="МЕНЮ"
                                   Background="Transparent"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Center">
                            </TextBlock>

                            <!--ToggleButton-->
                            <ToggleButton Name="TgBtn"
                                          Grid.Column="0"
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="Left"
                                          Margin="18,-20,0,0"
                                          Height="30"
                                          Width="30"
                                          BorderThickness="0"
                                          Style="{StaticResource TbStyle}">
                                <!--ToggleButton default image-->

                                <ToggleButton.Content>
                                    <Grid>
                                        <Rectangle x:Name="r1" Fill="{DynamicResource ForegroundColor}" Width="30" Height="3" Margin="0,-5,0,0" RenderTransformOrigin="0.48,0.48" RadiusX="1.5" RadiusY="1.5">
                                            <Rectangle.RenderTransform>
                                                <RotateTransform ></RotateTransform>
                                            </Rectangle.RenderTransform>
                                        </Rectangle>
                                        <Rectangle x:Name="r2" Fill="{DynamicResource ForegroundColor}" Width="30" Height="3" Margin="0,5,0,0" RadiusX="1.5" RadiusY="1.5" RenderTransformOrigin="0.5,0.5">
                                        </Rectangle>
                                        <Rectangle x:Name="r3" Fill="{DynamicResource ForegroundColor}" Width="30" Height="3" Margin="0,15,0,0" RadiusX="1.5" RadiusY="1.5" RenderTransformOrigin="0.5,0.5">
                                            <Rectangle.RenderTransform>
                                                <RotateTransform CenterX="0.5" CenterY="0.5"></RotateTransform>
                                            </Rectangle.RenderTransform>
                                        </Rectangle>
                                    </Grid>
                                </ToggleButton.Content>

                                <!--ToggleButton Checked/Unchecked-->
                                <ToggleButton.Triggers>
                                    <EventTrigger RoutedEvent="ToggleButton.Unchecked">
                                        <BeginStoryboard>
                                            <Storyboard Name="HideStackPanel">
                                                <DoubleAnimation Storyboard.TargetName="NavGrid"
                                                                 Storyboard.TargetProperty="Width"
                                                                 BeginTime="0:0:0"
                                                                 From="230" To="65"
                                                                 Duration="0:0:0.2">
                                                    <DoubleAnimation.EasingFunction>
                                                        <PowerEase Power="2"/>
                                                    </DoubleAnimation.EasingFunction>    
                                                </DoubleAnimation>
                                                <ThicknessAnimation Storyboard.TargetName="r1"
                                                                Storyboard.TargetProperty="Margin"
                                                                BeginTime="0:0:0.1"
                                                                From="0,5,0,0" To="0,-5,0,0"
                                                                Duration="0:0:0.1"></ThicknessAnimation>
                                                <ThicknessAnimation Storyboard.TargetName="r2"
                                                                Storyboard.TargetProperty="Margin"
                                                                BeginTime="0:0:0.1"
                                                                From="0,5,0,0" To="0,5,0,0"
                                                                Duration="0:0:0.1"></ThicknessAnimation>
                                                <ThicknessAnimation Storyboard.TargetName="r3"
                                                                Storyboard.TargetProperty="Margin"
                                                                BeginTime="0:0:0.1"
                                                                From="0,5,0,0" To="0,15,0,0"
                                                                Duration="0:0:0.1"></ThicknessAnimation>
                                                <DoubleAnimation Storyboard.TargetName="r2"
                                                             Storyboard.TargetProperty="Opacity"
                                                             From="0" To="100"
                                                             BeginTime="0:0:0.1"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="r1"
                                                             Storyboard.TargetProperty="(Rectangle.RenderTransform).(RotateTransform.Angle)"
                                                             BeginTime="0:0:0"
                                                             From="45" To="0"
                                                             Duration="0:0:0.1"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="r3"
                                                             Storyboard.TargetProperty="(Rectangle.RenderTransform).(RotateTransform.Angle)"
                                                             BeginTime="0:0:0"
                                                             From="-45" To="0.0"
                                                             Duration="0:0:0.1"></DoubleAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                    <EventTrigger RoutedEvent="ToggleButton.Checked">
                                        <BeginStoryboard>
                                            <Storyboard Name="ShowStackPanel">
                                                <DoubleAnimation Storyboard.TargetName="NavGrid"
                                                                 Storyboard.TargetProperty="Width"
                                                                 BeginTime="0:0:0"
                                                                 From="65" To="230"
                                                                 Duration="0:0:0.3">
                                                    <DoubleAnimation.EasingFunction>
                                                        <PowerEase Power="2"/>
                                                    </DoubleAnimation.EasingFunction>    
                                                </DoubleAnimation>                                 
                                                <ThicknessAnimation Storyboard.TargetName="r1"
                                                                 Storyboard.TargetProperty="Margin"
                                                                 BeginTime="0"
                                                                 From="0,-5,0,0" To="0,5,0,0"
                                                                 Duration="0:0:0.1"></ThicknessAnimation>
                                                <ThicknessAnimation Storyboard.TargetName="r2"
                                                                Storyboard.TargetProperty="Margin"
                                                                BeginTime="0"
                                                                From="0,5,0,0" To="0,5,0,0"
                                                                Duration="0:0:0.1"></ThicknessAnimation>
                                                <ThicknessAnimation Storyboard.TargetName="r3"
                                                                Storyboard.TargetProperty="Margin"
                                                                BeginTime="0"
                                                                From="0,15,0,0" To="0,5,0,0"
                                                                Duration="0:0:0.1"></ThicknessAnimation>
                                                <DoubleAnimation Storyboard.TargetName="r2"
                                                             Storyboard.TargetProperty="Opacity"
                                                             From="100" To="0"
                                                             BeginTime="0:0:0.1"
                                                             Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="r1"
                                                             Storyboard.TargetProperty="(Rectangle.RenderTransform).(RotateTransform.Angle)"
                                                             BeginTime="0:0:0.1"
                                                             From="0.0" To="45"
                                                             Duration="0:0:0.1"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="r3"
                                                             Storyboard.TargetProperty="(Rectangle.RenderTransform).(RotateTransform.Angle)"
                                                             BeginTime="0:0:0.1"
                                                             From="0.0" To="-45"
                                                             Duration="0:0:0.1"></DoubleAnimation>

                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </ToggleButton.Triggers>

                            </ToggleButton>
                        </Grid>

                        <!--List of Tabs-->
                        <ListView Name="ListView"
                                  Background="Transparent"
                                  BorderBrush="Transparent"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled">

                            <!--Home Tab-->
                            <ListViewItem HorizontalAlignment="Left"
                                      Margin="0,0,0,15">
                                <StackPanel Orientation="Horizontal"
                                        Width="230">
                                    <Button Background="Transparent"
                                            BorderThickness="0"
                                            Command="{Binding ChangeTabCommand}"
                                            Style="{StaticResource ListViewButtonStyle}">
                                        <Button.CommandParameter>
                                            <s:Int32>0</s:Int32>
                                        </Button.CommandParameter>
                                        <Button.Content>
                                            <Path Data="M -0.5,15.3 L 15.3,0 L 17,0 L 32.5, 15.3 L 30.2, 17.9
                                                  L 16.1,4.2 L 1.5,17.9 Z
                                                  M 22.2,0 L 27.8,0 L 27.8, 11 L 22.2,5
                                                  M 4.8, 17 L 4.8,29.6 L 13.7,29.6 L 13.7, 20.6 L 18.7,20.6
                                              L 18.7, 29.6 L 27.2,29.6 L 27.2, 17 L 16.1, 6.4 Z"
                                              Stroke="{DynamicResource ForegroundColor}"
                                              StrokeThickness="1"
                                              Fill="{DynamicResource ForegroundColor}"
                                              Margin="8,4,0,0"
                                        ></Path>
                                        </Button.Content>
                                    </Button>
                                    <TextBlock Text="Главная"
                                               Margin="25,0,0,0"
                                               Style="{DynamicResource FontStyle}"></TextBlock>
                                </StackPanel>
                            </ListViewItem>

                            <!--Hotels Tab-->
                            <ListViewItem HorizontalAlignment="Left"
                                      Margin="0,0,0,15">
                                <StackPanel Orientation="Horizontal"
                                        Width="230">
                                    <Button Background="Transparent"
                                        BorderThickness="0"
                                        Command="{Binding ChangeTabCommand}"
                                        Style="{StaticResource ListViewButtonStyle}">
                                        <Button.CommandParameter>
                                            <s:Int32>1</s:Int32>
                                        </Button.CommandParameter>
                                        <Button.Content>
                                            <Viewbox Grid.Row="0"
                                                 Height="50" Width="50"
                                                 Margin="6,4,0,0">
                                                <Canvas Width="70" Height="70">
                                                    <Canvas.RenderTransform>
                                                        <TranslateTransform X="0" Y="0"/>
                                                    </Canvas.RenderTransform>
                                                    <Canvas.Resources/>
                                                    <Canvas>
                                                        <Canvas>
                                                            <Path Fill="{DynamicResource ForegroundColor}">
                                                                <Path.Data>
                                                                    <PathGeometry Figures="M 4 28.5 C 4 5.4414201 2.4776662 7 25 7 47.522334 7 46 5.4414201 46 28.5 V 46 h -9 -9 v -5 c 0 -4.888889 -0.06667 -5 -3 -5 -2.933333 0 -3 0.111111 -3 5 v 5 H 13 4 Z M 16 38 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 24 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z M 16 30 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z M 16 22 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z M 16 14 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z M 6.6664297 4.5731131 C 5.9067168 2.5933329 8.3037003 0.70370035 9.7456486 2.1456486 11.083932 3.4839319 10.270789 6 8.5 6 7.7926877 6 6.9675811 5.3579009 6.6664297 4.5731131 Z M 14.732288 4.7447364 C 14.01652 2.8794766 16.659132 0.64354944 17.669016 2.2599558 19.093678 4.5402512 18.839782 6 17.018505 6 16.026015 6 14.997217 5.4351314 14.732288 4.7447364 Z M 23.015313 4.75 c 0.0084 -0.6875 0.458422 -1.925 1 -2.75 C 24.89059 0.66666667 25.10941 0.66666667 25.984687 2 27.555872 4.3934271 27.160379 6 25 6 23.9 6 23.006891 5.4375 23.015313 4.75 Z m 8.351291 0 c 0.1043 -0.6875 0.538271 -1.8080199 0.96438 -2.4900442 1.009884 -1.61640636 3.652496 0.6195208 2.936728 2.4847806 -0.626923 1.633735 -4.148883 1.638487 -3.901108 0.00526 z M 39.66643 4.5731131 C 38.906717 2.5933329 41.3037 0.70370035 42.745649 2.1456486 44.083932 3.4839319 43.270789 6 41.5 6 40.792688 6 39.967581 5.3579009 39.66643 4.5731131 Z" FillRule="NonZero"/>
                                                                </Path.Data>
                                                            </Path>
                                                            <Path Fill="{DynamicResource ForegroundColor}">
                                                                <Path.Data>
                                                                    <PathGeometry Figures="M 4.6666667 45.333333 C 4.3 44.966667 4 37.091667 4 27.833333 4 5.5480364 2.5364207 7 25 7 47.600385 7 46.135107 5.4994542 45.773513 28.273513 L 45.5 45.5 36.75 45.788933 28 46.077866 V 41.038933 C 28 36.106785 27.936424 36 25 36 c -2.933333 0 -3 0.111111 -3 5 v 5 H 13.666667 C 9.0833333 46 5.0333333 45.7 4.6666667 45.333333 Z M 16 38 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 24 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z M 16 30 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z M 16 22 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z M 16 14 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z m 12 0 c 0 -1.555556 -0.666667 -2 -3 -2 -2.333333 0 -3 0.444444 -3 2 0 1.555556 0.666667 2 3 2 2.333333 0 3 -0.444444 3 -2 z M 6.7322878 4.7447364 C 6.0301857 2.9150876 8.4800454 0.88004536 9.7980653 2.1980653 11.093963 3.4939634 10.238347 6 8.5 6 7.7926877 6 6.9972172 5.4351314 6.7322878 4.7447364 Z M 15 5.0817875 C 15 4.5767706 15.277552 3.440285 15.616783 2.5562641 16.080168 1.3487034 16.562799 1.2221923 17.557342 2.0475897 18.285419 2.6518398 18.634722 3.7883253 18.33357 4.5731131 17.732946 6.1383155 15 6.5553397 15 5.0817875 Z M 23.190371 4.25 C 23.375731 3.2875 24.190065 2.5 25 2.5 c 0.809935 0 1.624269 0.7875 1.809629 1.75 C 27.046091 5.477849 26.506149 6 25 6 23.493851 6 22.953909 5.477849 23.190371 4.25 Z M 31.66643 4.5731131 C 31.365278 3.7883253 31.714581 2.6518398 32.442658 2.0475897 33.437201 1.2221923 33.919832 1.3487034 34.383217 2.5562641 34.722448 3.440285 35 4.5767706 35 5.0817875 35 6.5553397 32.267054 6.1383155 31.66643 4.5731131 Z m 8.018704 0.048742 c -0.290864 -0.7579798 -0.0583 -1.8486852 0.516801 -2.4237898 1.31802 -1.31801994 3.767879 0.7170223 3.065777 2.5466711 -0.643789 1.6776872 -2.921616 1.5995583 -3.582578 -0.1228813 z" FillRule="NonZero"/>
                                                                </Path.Data>
                                                            </Path>
                                                        </Canvas>
                                                        <Path Fill="{DynamicResource ForegroundColor}" Stroke="{DynamicResource ForegroundColor}">
                                                            <Path.Data>
                                                                <PathGeometry Figures="M 6.7421807 6.4955159 7.1440171 4.3487766 5.603392 2.8007341 7.7692367 2.5195242 8.7654333 0.57593128 9.7021625 2.5488734 11.858471 2.8957094 10.271557 4.3962645 10.608032 6.5542139 8.6905359 5.5086658 Z" FillRule="NonZero"/>
                                                            </Path.Data>
                                                        </Path>
                                                        <Path Fill="{DynamicResource ForegroundColor}" Stroke="{DynamicResource ForegroundColor}">
                                                            <Path.Data>
                                                                <PathGeometry Figures="m 14.861401 6.4043644 0.401837 -2.1467393 -1.540625 -1.5480425 2.165844 -0.2812098 0.996197 -1.943593 0.936729 1.9729421 2.156309 0.346836 -1.586915 1.5005551 0.336476 2.1579494 -1.917496 -1.0455481 z" FillRule="NonZero"/>
                                                            </Path.Data>
                                                        </Path>
                                                        <Path Fill="{DynamicResource ForegroundColor}" Stroke="{DynamicResource ForegroundColor}">
                                                            <Path.Data>
                                                                <PathGeometry Figures="M 22.788535 6.3967393 23.190371 4.25 21.649746 2.7019575 l 2.165845 -0.2812098 0.996197 -1.943593 0.936729 1.9729421 2.156308 0.346836 -1.586914 1.5005551 0.336475 2.1579494 -1.917496 -1.0455481 z" FillRule="NonZero"/>
                                                            </Path.Data>
                                                        </Path>
                                                        <Path Fill="{DynamicResource ForegroundColor}" Stroke="{DynamicResource ForegroundColor}">
                                                            <Path.Data>
                                                                <PathGeometry Figures="M 31.141299 6.2399212 31.543135 4.0931819 30.00251 2.5451393 32.168355 2.2639295 33.164552 0.32033655 34.101281 2.2932786 36.257589 2.6401146 34.670675 4.1406697 35.00715 6.2986191 33.089654 5.2530711 Z" FillRule="NonZero"/>
                                                            </Path.Data>
                                                        </Path>
                                                        <Path Fill="{DynamicResource ForegroundColor}" Stroke="{DynamicResource ForegroundColor}">
                                                            <Path.Data>
                                                                <PathGeometry Figures="m 39.199031 6.1576992 0.401836 -2.1467393 -1.540625 -1.5480426 2.165845 -0.2812098 0.996196 -1.94359294 0.93673 1.97294204 2.156308 0.346836 -1.586914 1.5005551 0.336475 2.1579494 -1.917496 -1.045548 z" FillRule="NonZero"/>
                                                            </Path.Data>
                                                        </Path>
                                                    </Canvas>
                                                </Canvas>
                                            </Viewbox>
                                        </Button.Content>
                                    </Button>
                                    <TextBlock Text="Отели"
                                           Margin="25,0,0,0"
                                           Style="{DynamicResource FontStyle}"></TextBlock>
                                </StackPanel>
                            </ListViewItem>

                            <!--Clients Tab-->
                            <ListViewItem HorizontalAlignment="Left"
                            Margin="0,0,0,15">
                                <StackPanel Orientation="Horizontal"
                                        Width="230">
                                    <Button Background="Transparent"
                               BorderThickness="0"
                               Command="{Binding ChangeTabCommand}"
                               Style="{StaticResource ListViewButtonStyle}">
                                        <Button.CommandParameter>
                                            <s:Int32>2</s:Int32>
                                        </Button.CommandParameter>
                                        <Button.Content>
                                            <Viewbox Stretch="Fill"
                                            Height="50"
                                            Width="50"
                                            Margin="3,0,0,0">
                                                <Canvas Width="110" Height="110">
                                                    <Canvas.RenderTransform>
                                                        <TranslateTransform X="0" Y="0"/>
                                                    </Canvas.RenderTransform>
                                                    <Canvas.Resources/>
                                                    <Canvas>
                                                        <Path Fill="{DynamicResource ForegroundColor}">
                                                            <Path.Data>
                                                                <PathGeometry Figures="M 41 9.52932 C 18.1956 14.7641 25.3419 52.9015 49 47.4707 71.8044 42.2359 64.6581 4.09854 41 9.52932 M 24.930232 61.40177 c 0 0 -19.5580696 7.7817 -9.781332 15.57043 3.215307 1.264162 58.487333 0.500598 58.487333 0.500598 11.2877 -3.02 -0.925547 -13.168175 -6.688559 -15.683554 C 62.775942 59.136276 59.554311 58.031824 55.693551 58.951081 51.832791 59.870337 47.332901 62.8133 45 62.8133 c -2.4653 0 -8.399266 -3.582016 -12.192511 -3.796559 -3.793245 -0.214543 -7.877257 2.385029 -7.877257 2.385029 z" FillRule="NonZero"/>
                                                            </Path.Data>
                                                        </Path>
                                                    </Canvas>
                                                </Canvas>
                                            </Viewbox>
                                        </Button.Content>
                                    </Button>
                                    <TextBlock Text="Клиенты"
                                           Margin="25,0,0,0"
                                           Style="{DynamicResource FontStyle}"></TextBlock>
                                </StackPanel>
                            </ListViewItem>

                            <!--Vouchers Tab-->
                            <ListViewItem HorizontalAlignment="Left"
                            Margin="0,0,0,15">
                                <StackPanel Orientation="Horizontal"
                                        Width="230">
                                    <Button Background="Transparent"
                               BorderThickness="0"
                               Command="{Binding ChangeTabCommand}"
                               Style="{StaticResource ListViewButtonStyle}">
                                        <Button.CommandParameter>
                                            <s:Int32>3</s:Int32>
                                        </Button.CommandParameter>
                                        <Button.Content>
                                            <Viewbox Stretch="UniformToFill"
                                                 Margin="6,3,0,0"
                                                 Height="50"
                                                 Width="50">
                                                <Canvas Width="145" Height="145">
                                                    <Canvas.RenderTransform>
                                                        <TranslateTransform X="0" Y="0"/>
                                                    </Canvas.RenderTransform>
                                                    <Canvas.Resources/>
                                                    <Canvas>
                                                        <Path Fill="{DynamicResource ForegroundColor}">
                                                            <Path.Data>
                                                                <PathGeometry Figures="M 44.133594 86.660971 C 43.306561 85.664457 43.67276 81.926633 45.565208 72.048363 46.963809 64.747895 47.971292 58.654615 47.804059 58.50774 47.636827 58.360865 43.454582 59.808249 38.510182 61.724149 25.655062 66.705366 17.172604 68.335871 12.373758 66.748113 8.8918174 65.59607 8.2549845 64.744114 4.1001781 55.679714 -0.889916 44.792996 -0.77932323 42.747297 4.8295428 42.188231 c 2.3913353 -0.238358 4.3593179 0.627289 8.3577242 3.676272 4.944284 3.770262 5.395967 3.917797 8.271306 2.701694 C 23.131358 47.858705 36.875 41.72304 52 34.931385 78.161758 23.18384 79.824736 22.580904 86.173116 22.541461 c 6.837931 -0.04249 10.61524 1.590579 13.216089 5.713781 1.711005 2.712511 -2.625547 6.228883 -16.081154 13.039687 L 71.049148 47.5 l -2.667761 6 c -9.555973 21.492122 -14.498272 30.60062 -17.645056 32.519273 -3.815403 2.326322 -5.100935 2.451258 -6.602737 0.641698 z M 25.128633 35.925877 C 21.757885 33.794601 19 31.375949 19 30.551095 c 0 -2.041302 5.167938 -4.564301 9.20034 -4.491626 1.814813 0.03271 7.34966 1.3386 12.29966 2.901984 8.151321 2.574474 8.764256 2.937036 6.5 3.844861 -1.375 0.55129 -5.479615 2.350605 -9.121367 3.998478 l -6.621367 2.996133 z" FillRule="NonZero"/>
                                                            </Path.Data>
                                                        </Path>
                                                    </Canvas>
                                                </Canvas>
                                            </Viewbox>
                                        </Button.Content>
                                    </Button>
                                    <TextBlock Text="Путевки"
                                           Margin="25,0,0,0"
                                           Style="{DynamicResource FontStyle}"></TextBlock>
                                </StackPanel>
                            </ListViewItem>
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate
                                                TargetType="ListViewItem">
                                                <Border Name="Bd"
                                                        BorderBrush="{TemplateBinding BorderBrush}"
                                                        BorderThickness="{TemplateBinding BorderThickness}"
                                                        Background="{TemplateBinding Background}"
                                                        Padding="{TemplateBinding Padding}"
                                                        SnapsToDevicePixels="True">
                                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                                                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                                                      VerticalAlignment="{TemplateBinding VerticalAlignment}"></ContentPresenter>
                                                </Border>

                                                <ControlTemplate.Triggers>
                                                    <MultiTrigger>
                                                        <MultiTrigger.Conditions>
                                                            <Condition Property="IsMouseOver" Value="True"/>
                                                        </MultiTrigger.Conditions>
                                                        <Setter Property="Background"
                                                                TargetName="Bd"
                                                                Value="{DynamicResource ListViewItemMouseOver}"></Setter>
                                                        <Setter Property="BorderBrush"
                                                                TargetName="Bd"
                                                                Value="{DynamicResource ListViewItemMouseOver}"></Setter>
                                                    </MultiTrigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListView.ItemContainerStyle>
                        </ListView>
                    </StackPanel>

                    <!--Theme Button-->
                    <Button Style="{StaticResource ThemeBtnStyle}"
                        VerticalAlignment="Bottom"
                        Margin="180,0,0,0"
                        Width="50"
                        Height="50"
                        Command="{Binding ChangeThemeCommand}">
                    </Button>
                </Grid>
                </Border>

                <!--Notification-->
                <Grid Grid.Column="1"
                  HorizontalAlignment="Right"
                  VerticalAlignment="Bottom"
                  Height="150"
                  Width="0"
                  x:Name="NotificationGrid"
                  Style="{StaticResource NotificationGrid}">
                    <Border >
                        <Grid Height="150"
                              Width="400">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0"
                                  Grid.RowSpan="2"
                                  Background="{DynamicResource BackgroundColor}"
                                  Opacity=".97">

                            </Grid>
                            
                            <!--Title-->
                            <TextBlock VerticalAlignment="Top"
                                   HorizontalAlignment="Center"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource ForegroundColor}"
                                   Text="{Binding Notification.Title}"
                                   Margin="5"
                                   />
                            <Button Grid.Row="0"
                                HorizontalAlignment="Right"
                                Width="30"
                                Style="{StaticResource PopupButton}"
                                x:Name="CloseButton"
                                Command="{Binding CloseNotificationCommand}"
                                BorderThickness="0">
                                <Button.Content>
                                    <Path x:Name="ButtonContent"
                                      Data="M 0,5 L 18,5 M 15,0 L 18,5 L 15,10"
                                      Fill="Transparent" StrokeThickness="1.2"
                                      Stroke="{DynamicResource ForegroundColor}"
                                      SnapsToDevicePixels="True"/>
                                </Button.Content>
                            </Button>
                            <Rectangle Grid.Row="0"
                                   Height="1"
                                   VerticalAlignment="Bottom"
                                   Style="{DynamicResource Rectangle}">
                            </Rectangle>
                            
                            <!--Content-->
                            <TextBlock Grid.Row="1" 
                                   Margin="15,5,15,5"
                                   TextWrapping="Wrap"
                                   Foreground="{DynamicResource ForegroundColor}"
                                   FontSize="14"
                                   Text="{Binding Notification.Content}"
                                   FontFamily="Franklin Gothic Medium"/>
                            
                        </Grid>
                    </Border>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>
